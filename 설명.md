#### 참고 사이트

https://www.youtube.com/watch?v=IBX1eWHIOF8&list=PLniSC_akcqlNwLEEO1FPR_yRu__1husfg&index=19

https://jheaon.tistory.com/51
https://yonghyunlee.gitlab.io/python/user-extend/

#### 1. User 기본 모델 이란?

django.contrib.auth.models.User에 보면 장고의 유저 모델은 다음과 같이 명시
📁 django.contrib.auth.models.User

class User(AbstractUser):
class Meta(AbstractUser.Meta):
swappable = 'AUTH_USER_MODEL'

아래는 User 모델에서 사용하고 있는 속성들이다.

username = models.CharField()
first_name = models.CharField()
last_name = models.CharField()
email = models.EmailField()
is_staff = models.BooleanField()
is_active = models.BooleanField()
date_joined = models.DateTimeField()

#### 2. 유저 모델을 구성하기 위한 3가지 방법

기존 모델을 그대로 사용 하여도 좋으나, 확장을 위해서는 아래의 3가지 정도의 방법이 있다.

- 표준 User 모델과 1대 1 관계를 가지는 모델을 만드는 방법
- AbstractUser을 상속받는 모델을 만드는 방법
- AbstractBaseUser을 상속받는 모델을 만드는 방법
- Proxy model

#### 3. 표준 User 모델과 1대 1 관계를 가지는 모델을 만드는 방법

1.model.py 에서 아래를 추가

#User 객체가 생성될 때 같이 연결된 사용자 모델이 같이 생성되게 하는 방법이다. #기존 User 모델에 손상주지 않으면서 새 필드들을 추가할 수 있다.

```
class Profile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    bio = models.TextField(max_length=500, blank=True)
    location = models.CharField(max_length=30, blank=True)
    birth_date = models.DateField(null=True, blank=True)

    @receiver(post_save, sender=User)
    def create_user_profile(sender, instance, created, \*\*kwargs):
    if created:
    Profile.objects.create(user=instance)

    @receiver(post_save, sender=User)
    def save_user_profile(sender, instance, \*\*kwargs):
    instance.profile.save()
```

admin.py 에서 아래를 추가<BR>
admin.site.register(Profile)

http://127.0.0.1:8000/admin/
접속후 admin 계정 삭제후 다시 admin 계정 생성(이렇게 하지 않으면 에러남)

#### 4. index.html 에 아래를 추가

{% if user.is_authenticated %}

<p>인증된 사용자..{{user.username}}</p>
<p>위치..{{user.profile.location}}</p>
<p>생일..{{user.profile.birth_date}}</p>

##### python manage.py startapp todo

##### python manage.py makemigrations

##### python manage.py migrate

##### python manage.py runserver

```

```
