#### 참고 사이트

https://www.youtube.com/watch?v=Qauo-TaumkQ&list=PLniSC_akcqlNwLEEO1FPR_yRu__1husfg&index=31

https://velog.io/@wkdgus7113/Django-UserModel-%ED%99%95%EC%9E%A5-feat.-AbstractUser

https://github.com/updaun/django_course/tree/jyt2

#### 1. simple jwt 설치

https://django-rest-framework-simplejwt.readthedocs.io/en/latest/

위의 사이트를 참고

pip install djangorestframework-simplejwt

config/urls.py에 아래의 두줄 추가

    path('token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),
    path('token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),

config/settings.py 에 아래를 추가

    REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    )

}

#### 2. 아래 주소로 접속후 로그인후 토큰 번호확인

![alt text](image-4.png)

#### 3. access token 번호를 카피 한후 아래의 사이트로 접속후 access 토큰을 넣은후 해석 되는거 확인

![alt text](image-5.png)

#### 4.아래 사이트 접속후

http://127.0.0.1:8000/token/refresh/

refresh token 을 넣은후 access 토큰이 갱신 되는걸 확인

#### 5. admin.py 에 아래를 추가

admin.site.register(User)

#### 6. index.html에 아래를 추가

```
<h1>안녕하세요</h1>

{% if user.is_authenticated %}
<p>인증된 사용자..{{user.username}}</p>
<p>인증된 사용자..{{user.nickname}}</p>
{% comment %} <a href="/auth/logout">로그아웃</a> {% endcomment %}

<form method="POST" action="/auth/logout/">
    {% csrf_token %}
    <input class="btn btn-primary" type="submit" value="로그아웃" />
</form>

{% else %}
    <a href="/auth/login">로그인</a>
{% endif %}
```

##### 7. DB 마이그레이션

##### python manage.py startapp todo

##### python manage.py makemigrations

##### python manage.py migrate

##### python manage.py runserver

##### python manage.py createsuperuser
