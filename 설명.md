#### 참고 사이트

https://www.youtube.com/watch?v=Qauo-TaumkQ&list=PLniSC_akcqlNwLEEO1FPR_yRu__1husfg&index=31

https://velog.io/@wkdgus7113/Django-UserModel-%ED%99%95%EC%9E%A5-feat.-AbstractUser

https://github.com/updaun/django_course/tree/jyt2

#### 1. python manage.py startapp users

#### 1.5 config/settings.py 해당 앱 등록

CUSTOM_APPS = [
'todo',
'users'
]

해당 폴더의 models.py 아래의 두 클래스 추가

class User(AbstractUser):
class CustomUserManager(UserManager):

#### 2. config/settings.py

추가:
AUTH_USER_MODEL = "users.User"

삭제:
기존 User model 이 있으면 삭제

#### 3. db.sqlite3 를 삭제후 아래명령을 차례로

python manage.py makemigrations
python manage.py migrate
python manage.py runserver
python manage.py createsuperuser

#### 4.settings.py 에 아래를 추가

#### 5. admin.py 에 아래를 추가

admin.site.register(User)

#### 6. index.html에 아래를 추가

```
<h1>안녕하세요</h1>

{% if user.is_authenticated %}
<p>인증된 사용자..{{user.username}}</p>
<p>인증된 사용자..{{user.nickname}}</p>
{% comment %} <a href="/auth/logout">로그아웃</a> {% endcomment %}

<form method="POST" action="/auth/logout/">
    {% csrf_token %}
    <input class="btn btn-primary" type="submit" value="로그아웃" />
</form>

{% else %}
    <a href="/auth/login">로그인</a>
{% endif %}
```

##### 7. DB 마이그레이션

```
테이블 생성이 이미 되어 있다면 (migate를 이미 한 경우)
생성되어 있는 회원과 관련된 앱에 migrations폴더에서 __pycache__폴더와 __init__.py를 제외하고 다 지워주세요.
DB에서 살려야할 데이터를 백업해 주신 다음 과감하게 DROP해 줍니다.
아래 작업을 한 다음 백업한 데이터를 새 DB에 넣어주시면 끝!
```

##### python manage.py startapp todo

##### python manage.py makemigrations

##### python manage.py migrate

##### python manage.py runserver

##### python manage.py createsuperuser
